{% extends 'base.html' %}
{% block title %}
Market
{% endblock %}

{% block content %}

<div class="market-container">
    <div class="available-items">
        <h2>Available Items</h2>
        <div class="itemCont">
            {% for item in items %}
            <span class="item">
                <img src="{{ item.image }}" alt="">
                <h2>{{ item.name }}</h2>
                <span>{{ item.price }}$</span>
                <div class="optionsCont">
                    <button class="options" onclick="openModalPurchase('{{ item.id }}')">Buy</button>
                    <!-- Button to trigger modal -->
                    <button class="options" onclick="openModal('{{ item.id }}')">More info.</button>         
                </div>
            </span>

            <!-- Include modal for this available item -->
            {% with current_item=item %}
                {% include 'includes/modal.html' %}
            {% endwith %}
            {% endfor %}
        </div>
    </div>

    <div class="owned-items">
        <h2>Owned Items</h2>
        <div class="itemCont">
            {% for owned_item in owned_items %}
            <span class="item">
                <img src="{{ owned_item.image }}" alt="">
                <h2>{{ owned_item.name }}</h2>
                <span>{{ owned_item.price }}$</span>
                <div class="optionsCont">
                    <button class="options" onclick="openModalSale('{{ owned_item.id }}')">Sell</button>
                    <!-- Button to trigger modal -->
                    <button class="options" onclick="openModal('{{ owned_item.id }}')">More info.</button>                
                </div>
            </span>

            <!-- Include modal for this owned item -->
            {% with current_item=owned_item %}
                {% include 'includes/modal.html' %}
            {% endwith %}
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}